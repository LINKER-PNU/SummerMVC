<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="ac.linker.mapper.BoardMapper">
  <select id="getBoardTitle" resultType="ac.linker.vo.BoardVo">
    SELECT board_title
    FROM board
    WHERE board_writer=#{boardWriter}
  </select>

  <select id="getBoards" resultType="ac.linker.vo.BoardVo">
    SELECT global_board_no AS boardId,
        user.user_id AS boardWriterId,
        user.user_name AS boardWriter,
        board_title,
        board_write_dt,
        board_edit_dt,
        board_deadline,
        board_notice,
        board_assignment,
        board_visible
    FROM board
    LEFT JOIN user
    ON user.global_user_no=board.board_user_no
    WHERE board_room_no=(
        SELECT global_room_no
        FROM room
        WHERE room_name=#{boardRoom}
    )
  </select>

  <select id="getBoardContent" resultType="ac.linker.vo.BoardVo">
    SELECT board_content
    FROM board
    WHERE global_board_no=#{boardId}
  </select>
</mapper>
